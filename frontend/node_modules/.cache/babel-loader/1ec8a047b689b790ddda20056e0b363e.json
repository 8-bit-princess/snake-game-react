{"ast":null,"code":"var _jsxFileName = \"/Users/thapasya/home/practice/testing/snake-game-react/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.directionKeyPressed = e => {\n      const key = this.state.key;\n      const keyPressed = e.keyCode;\n\n      switch (keyPressed) {\n        case key.left:\n          this.movingSlow({\n            x: -10,\n            y: 0\n          });\n          break;\n\n        case key.up:\n          this.movingSlow({\n            x: 0,\n            y: -10\n          });\n          break;\n\n        case key.right:\n          this.movingSlow({\n            x: 10,\n            y: 0\n          });\n          break;\n\n        case key.down:\n          this.movingSlow({\n            x: 0,\n            y: 10\n          });\n          break;\n        // default:\n        //   this.movingSlow({ x: 0, y: 0 })\n        //   break;\n      }\n    };\n\n    this.state = {\n      key: {\n        left: 37,\n        up: 38,\n        right: 39,\n        down: 40\n      },\n      snake: [{\n        x: 150,\n        y: 150\n      }, {\n        x: 140,\n        y: 150\n      }, {\n        x: 130,\n        y: 150\n      }, {\n        x: 120,\n        y: 150\n      }]\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.directionKeyPressed); // snake.forEach(this.drawSnake);\n\n    this.movingSlow({\n      x: -10,\n      y: 0\n    });\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.directionKeyPressed);\n  }\n\n  movingSlow(nextPosition) {\n    const snake = this.state.snake;\n    setTimeout(() => {\n      this.clearCanvas();\n      this.moveSnake(nextPosition);\n      snake.forEach(this.drawSnake);\n      this.movingSlow(nextPosition);\n    }, 1000);\n  }\n\n  clearCanvas() {\n    const canvas = document.getElementById(\"snake_board\");\n    const ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = \"white\";\n    ctx.strokeStyle = \"black\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.strokeRect(0, 0, canvas.width, canvas.height);\n  }\n\n  moveSnake(headTo) {\n    const snake = this.state.snake;\n    const head = {\n      x: snake[0].x + headTo.x,\n      y: snake[0].y + headTo.y\n    };\n    snake.unshift(head);\n    snake.pop(); // this.setState({\n    //   snake: snake\n    // })\n  }\n\n  drawSnake(snakePart) {\n    const canvas = document.getElementById(\"snake_board\");\n\n    if (canvas.getContext) {\n      const ctx = canvas.getContext(\"2d\");\n      ctx.fillStyle = 'red';\n      ctx.fillRect(snakePart.x, snakePart.y, 10, 10);\n      ctx.strokeRect(snakePart.x, snakePart.y, 10, 10);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Snake game\"), React.createElement(\"canvas\", {\n      style: {\n        border: \"1px solid black\"\n      },\n      id: \"snake_board\",\n      width: \"300\",\n      height: \"300\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"aside\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Score: 0\"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/thapasya/home/practice/testing/snake-game-react/src/App.js"],"names":["React","Component","App","constructor","props","directionKeyPressed","e","key","state","keyPressed","keyCode","left","movingSlow","x","y","up","right","down","snake","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","nextPosition","setTimeout","clearCanvas","moveSnake","forEach","drawSnake","canvas","getElementById","ctx","getContext","fillStyle","strokeStyle","fillRect","width","height","strokeRect","headTo","head","unshift","pop","snakePart","render","border"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      key: {\n        left: 37,\n        up: 38,\n        right: 39,\n        down: 40\n      },\n      snake: [\n        { x: 150, y: 150 },\n        { x: 140, y: 150 },\n        { x: 130, y: 150 },\n        { x: 120, y: 150 }\n      ]\n    }\n  }\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.directionKeyPressed)\n    // snake.forEach(this.drawSnake);\n    this.movingSlow({ x: -10, y: 0 });\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.directionKeyPressed)\n  }\n  directionKeyPressed = (e) => {\n    const { key } = this.state\n    const keyPressed = e.keyCode\n    switch (keyPressed) {\n      case key.left:\n        this.movingSlow({ x: -10, y: 0 })\n        break;\n      case key.up:\n        this.movingSlow({ x: 0, y: -10 })\n        break;\n      case key.right:\n        this.movingSlow({ x: 10, y: 0 })\n        break;\n      case key.down:\n        this.movingSlow({ x: 0, y: 10 })\n        break;\n      // default:\n      //   this.movingSlow({ x: 0, y: 0 })\n      //   break;\n    }\n  }\n  movingSlow(nextPosition) {\n    const { snake } = this.state;\n    setTimeout(() => {\n      this.clearCanvas()\n      this.moveSnake(nextPosition);\n      snake.forEach(this.drawSnake);\n      this.movingSlow(nextPosition)\n    }, 1000);\n  }\n  clearCanvas() {\n    const canvas = document.getElementById(\"snake_board\")\n    const ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = \"white\";\n    ctx.strokeStyle = \"black\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.strokeRect(0, 0, canvas.width, canvas.height);\n  }\n  moveSnake(headTo) {\n    const { snake } = this.state;\n    const head = {\n      x: snake[0].x + headTo.x,\n      y: snake[0].y + headTo.y\n    }\n    snake.unshift(head);\n    snake.pop();\n    // this.setState({\n    //   snake: snake\n    // })\n  }\n  drawSnake(snakePart) {\n    const canvas = document.getElementById(\"snake_board\")\n    if (canvas.getContext) {\n      const ctx = canvas.getContext(\"2d\");\n      ctx.fillStyle = 'red'\n      ctx.fillRect(snakePart.x, snakePart.y, 10, 10)\n      ctx.strokeRect(snakePart.x, snakePart.y, 10, 10)\n    }\n  }\n  render() {\n\n    return (\n      <div className=\"App\">\n        <header className=\"\">\n          Snake game\n        </header>\n        <canvas\n          style={{ border: \"1px solid black\" }}\n          id=\"snake_board\" width=\"300\" height=\"300\">\n        </canvas>\n        <aside>Score: 0</aside>\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}